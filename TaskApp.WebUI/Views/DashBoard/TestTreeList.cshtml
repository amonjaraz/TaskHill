@using TaskApp.WebUI.ViewModels

@model List<TaskTree>

@{
    ViewBag.Title = "TestTreeList";
}
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<h2>TestTreeList</h2>


@{
    int i = 1;
 
}

@foreach (TaskTree tree in Model)
{
    

    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" href="@String.Format("#collapse{0}",i)">@tree.Name</a>
                </h4>
            </div>
            <div id="@String.Format("collapse{0}",i)" class="panel-collapse collapse">
                <ul class="list-group">
@foreach (TaskTree child in tree.Children)
{
    i++;
                    <li class="list-group-item">
                            <div class="panel-group">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" href="@String.Format("#collapse{0}", i)">@child.Name</a>
                                        </h4>
                                    </div>
                                    <div id="@String.Format("collapse{0}",i)" class="panel-collapse collapse">
                                        <ul class="list-group">
                                            <li class="list-group-item">1</li>
                                            <li class="list-group-item">1</li>
                                        </ul>
                                        <div class="panel-footer">Footer</div>
                                    </div>
                                </div>
                            </div>
                    </li>
}
                </ul>
                <div class="panel-footer">Footer</div>
            </div>
        </div>
    </div>
    i++;
}
